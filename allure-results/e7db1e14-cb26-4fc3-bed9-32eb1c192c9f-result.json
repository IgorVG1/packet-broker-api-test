{"name": "[200]OK - Delete mirroring group", "status": "failed", "statusDetails": {"message": "AssertionError: Incorrect response status code.\nExpected status code:   \"200\"Actual status code:       \"412\"", "trace": "self = <tests.mirroring.test_mirroring.TestMirroring object at 0x000002E2EF5F3710>\nmirroring_client = <clients.mirroring.mirroring_client.MirroringClient object at 0x000002E2F07A4DA0>\nfunction_mirroring = MirroringFixture(request=CreateMirroringRequestSchema(id='mirroring-1', ingress_group='ingress-1', ports=['L1']))\nmirroring_session = <clients.mirroring.mirroring_client.MirroringSession object at 0x000002E2F07A6DB0>\n\n    @pytest.mark.xdist_group(name=f\"{settings.xdist_group_names.mirroring}\")\n    @allure.title(\"[200]OK - Delete mirroring group\")\n    @allure.tag(AllureTag.DELETE_ENTITY, AllureTag.POSITIVE_TEST)\n    @allure.story(AllureStory.DELETE_ENTITY)\n    @allure.sub_suite(AllureStory.DELETE_ENTITY)\n    @allure.severity(AllureSeverity.BLOCKER)\n    def test_delete_mirroring(self,\n                              mirroring_client: MirroringClient,\n                              function_mirroring: MirroringFixture,\n                              mirroring_session: MirroringSession):\n        logger.info('[Set-up completed] : Mirroring group was created.')\n    \n        request_delete = DeleteMirroringRequestSchema()\n        response_delete = mirroring_session.delete_mirroring_api(request=request_delete)\n    \n        logger.info('Mirroring group was deleted.')\n    \n        response_get = mirroring_client.get_mirroring_list_api()\n        response_get_data = GetMirroringResponseSchema.model_validate_json(response_get.text)\n    \n        logger.info('Actual mirroring list was received.')\n    \n>       assert_status_code(actual=response_delete.status_code,\n                           expected=HTTPStatus.OK)\n\ntests\\mirroring\\test_mirroring.py:225: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nactual = 412, expected = <HTTPStatus.OK: 200>\n\n    @allure.step('Check response status code equals to {expected}')\n    def assert_status_code(actual: int, expected: int):\n        \"\"\"\n        Проверяет, что фактический статус-код ответа соответствует ожидаемому.\n    \n        :param actual: Фактический статус-код ответа.\n        :param expected: Ожидаемый статус-код.\n        :raises AssertionError: Если статус-коды не совпадают.\n        \"\"\"\n        logger.info(f'Check response status code equals to \"{expected}\"')\n>       assert actual == expected, \\\n               ^^^^^^^^^^^^^^^^^^\n            (\n                'Incorrect response status code.'\n                f'\\nExpected status code:   \"{expected}\"'\n                f'Actual status code:       \"{actual}\"'\n            )\nE       AssertionError: Incorrect response status code.\nE       Expected status code:   \"200\"Actual status code:       \"412\"\n\ntools\\assertions\\base.py:18: AssertionError"}, "steps": [{"name": "Delete mirroring group", "status": "passed", "steps": [{"name": "Make DELETE-request to 'http://192.168.7.57//api/mirroring/'", "status": "passed", "parameters": [{"name": "url", "value": "'http://192.168.7.57//api/mirroring/'"}, {"name": "json", "value": "{'id': 'mirroring-1', 'data': {'ingressGroup': 'ingress-1'}}"}], "start": 1770044552001, "stop": 1770044552038}], "parameters": [{"name": "request", "value": "DeleteMirroringRequestSchema(id='mirroring-1', data=DataSchema(ingress_group='ingress-1'))"}], "start": 1770044552001, "stop": 1770044552038}, {"name": "Get mirroring list", "status": "passed", "steps": [{"name": "Make GET-request to '/api/mirroring/'", "status": "passed", "parameters": [{"name": "url", "value": "'/api/mirroring/'"}, {"name": "params", "value": "None"}], "start": 1770044552039, "stop": 1770044552087}], "start": 1770044552039, "stop": 1770044552087}, {"name": "Check response status code equals to <HTTPStatus.OK: 200>", "status": "failed", "statusDetails": {"message": "AssertionError: Incorrect response status code.\nExpected status code:   \"200\"Actual status code:       \"412\"\n", "trace": "  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\tools\\assertions\\base.py\", line 18, in assert_status_code\n    assert actual == expected, \\\n           ^^^^^^^^^^^^^^^^^^\n"}, "parameters": [{"name": "actual", "value": "412"}, {"name": "expected", "value": "<HTTPStatus.OK: 200>"}], "start": 1770044552088, "stop": 1770044552088}], "attachments": [{"name": "log", "source": "21144165-5ad8-4885-9f45-3cbeffa22d5b-attachment.txt", "type": "text/plain"}], "start": 1770044552000, "stop": 1770044552088, "uuid": "b63be074-93ba-48e7-a2bf-1b4e137e25cd", "historyId": "7c93f3f8f5c00ab7bbd348554b311d51", "testCaseId": "7c93f3f8f5c00ab7bbd348554b311d51", "fullName": "tests.mirroring.test_mirroring.TestMirroring#test_delete_mirroring", "labels": [{"name": "parentSuite", "value": "Packet Broker"}, {"name": "story", "value": "Delete entity"}, {"name": "suite", "value": "MIRRORING"}, {"name": "epic", "value": "Packet Broker"}, {"name": "tag", "value": "REGRESSION"}, {"name": "subSuite", "value": "Delete entity"}, {"name": "feature", "value": "MIRRORING"}, {"name": "tag", "value": "MIRRORING"}, {"name": "tag", "value": "POSITIVE_TEST"}, {"name": "tag", "value": "DELETE_ENTITY"}, {"name": "severity", "value": "blocker"}, {"name": "tag", "value": "regression"}, {"name": "tag", "value": "mirroring"}, {"name": "host", "value": "bic-pdt-153"}, {"name": "thread", "value": "21072-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.mirroring.test_mirroring"}], "titlePath": ["tests", "mirroring", "test_mirroring.py", "TestMirroring"]}