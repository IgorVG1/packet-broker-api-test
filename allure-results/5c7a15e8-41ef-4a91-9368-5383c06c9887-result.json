{"name": "[412]PRECONDITION_FAILED - Create balancing for created balancing group", "status": "failed", "statusDetails": {"message": "AssertionError: Incorrect value:  \"string response\"\nExpected value: \"\"Балансировка для этой логической группы уже сконфигурирована\"\"Actual value:     \"\"Логическая группа не сконфигурированна\"\"", "trace": "self = <tests.balancing.test_balancing.TestBalancing object at 0x0000015DC5A43350>, balancing_client = <clients.balancing.balancing_client.BalancingClient object at 0x0000015DC5B216A0>\n\n    @pytest.mark.xdist_group(name=f\"{settings.xdist_group_names.negative_tests}\")\n    @allure.title(\"[412]PRECONDITION_FAILED - Create balancing for created balancing group\")\n    @allure.tag(AllureTag.CREATE_ENTITY, AllureTag.NEGATIVE_TEST)\n    @allure.story(AllureStory.CREATE_ENTITY)\n    @allure.sub_suite(AllureStory.VALIDATE_ENTITY)\n    @allure.severity(AllureSeverity.MAJOR)\n    def test_create_balancing_for_created_balancing_group(self, balancing_client: BalancingClient):\n        request = CreateBalancingRequestSchema()\n        response = balancing_client.create_balancing_api(request=request)\n    \n        assert_status_code(response.status_code, HTTPStatus.PRECONDITION_FAILED)\n>       assert_create_balancing_for_created_balancing_group_response(response_str=response.text)\n\ntests\\balancing\\test_balancing.py:104: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests\\balancing\\balancing_assertions.py:22: in assert_create_balancing_for_created_balancing_group_response\n    assert_equal(actual=response_str,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nactual = '\"Логическая группа не сконфигурированна\"', expected = '\"Балансировка для этой логической группы уже сконфигурирована\"', name = 'string response'\n\n    @allure.step('Check object: {name} - equals to {expected}')\n    def assert_equal(actual: Any, expected: Any, name: str):\n        \"\"\"\n        Проверяет, что фактическое значение равно ожидаемому.\n    \n        :param name: Название проверяемого значения.\n        :param actual: Фактическое значение.\n        :param expected: Ожидаемое значение.\n        :raises AssertionError: Если фактическое значение не равно ожидаемому.\n        \"\"\"\n        logger.info(f'Check object: \"{name}\" - equals to \"{expected}\"')\n>       assert actual == expected, \\\n               ^^^^^^^^^^^^^^^^^^\n            (\n                f'Incorrect value:  \"{name}\"'\n                f'\\nExpected value: \"{expected}\"'\n                f'Actual value:     \"{actual}\"'\n            )\nE       AssertionError: Incorrect value:  \"string response\"\nE       Expected value: \"\"Балансировка для этой логической группы уже сконфигурирована\"\"Actual value:     \"\"Логическая группа не сконфигурированна\"\"\n\ntools\\assertions\\base.py:37: AssertionError"}, "steps": [{"name": "Create balancing group", "status": "passed", "steps": [{"name": "Make POST-request to '/api/balancing/'", "status": "passed", "parameters": [{"name": "url", "value": "'/api/balancing/'"}, {"name": "json", "value": "{'logicId': 1, 'balanceType': 1}"}, {"name": "data", "value": "None"}, {"name": "files", "value": "None"}], "start": 1770123356977, "stop": 1770123356997}], "parameters": [{"name": "request", "value": "CreateBalancingRequestSchema(logic_id=1, balance_type=1)"}], "start": 1770123356977, "stop": 1770123356997}, {"name": "Check response status code equals to <HTTPStatus.PRECONDITION_FAILED: 412>", "status": "passed", "parameters": [{"name": "actual", "value": "412"}, {"name": "expected", "value": "<HTTPStatus.PRECONDITION_FAILED: 412>"}], "start": 1770123356997, "stop": 1770123356997}, {"name": "Check create balancing for created balancing group response", "status": "failed", "statusDetails": {"message": "AssertionError: Incorrect value:  \"string response\"\nExpected value: \"\"Балансировка для этой логической группы уже сконфигурирована\"\"Actual value:     \"\"Логическая группа не сконфигурированна\"\"\n", "trace": "  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\tests\\balancing\\balancing_assertions.py\", line 22, in assert_create_balancing_for_created_balancing_group_response\n    assert_equal(actual=response_str,\n  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\tools\\assertions\\base.py\", line 37, in assert_equal\n    assert actual == expected, \\\n           ^^^^^^^^^^^^^^^^^^\n"}, "steps": [{"name": "Check object: 'string response' - equals to '\"Балансировка для этой логической группы уже сконфигурирована\"'", "status": "failed", "statusDetails": {"message": "AssertionError: Incorrect value:  \"string response\"\nExpected value: \"\"Балансировка для этой логической группы уже сконфигурирована\"\"Actual value:     \"\"Логическая группа не сконфигурированна\"\"\n", "trace": "  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\PycharmProjects\\packet-broker-api-test\\tools\\assertions\\base.py\", line 37, in assert_equal\n    assert actual == expected, \\\n           ^^^^^^^^^^^^^^^^^^\n"}, "parameters": [{"name": "actual", "value": "'\"Логическая группа не сконфигурированна\"'"}, {"name": "expected", "value": "'\"Балансировка для этой логической группы уже сконфигурирована\"'"}, {"name": "name", "value": "'string response'"}], "start": 1770123356998, "stop": 1770123356998}], "parameters": [{"name": "response_str", "value": "'\"Логическая группа не сконфигурированна\"'"}], "start": 1770123356997, "stop": 1770123356998}], "attachments": [{"name": "log", "source": "95ed38e5-4148-45b7-8965-1f29deb9e2d7-attachment.txt", "type": "text/plain"}], "start": 1770123356977, "stop": 1770123356998, "uuid": "f759e358-48e2-4869-adc5-7b7c0f7d3fd0", "historyId": "8c050ba0b87a7b79dabbe2ff87480e2f", "testCaseId": "8c050ba0b87a7b79dabbe2ff87480e2f", "fullName": "tests.balancing.test_balancing.TestBalancing#test_create_balancing_for_created_balancing_group", "labels": [{"name": "feature", "value": "BALANCING"}, {"name": "story", "value": "Create entity"}, {"name": "tag", "value": "BALANCING"}, {"name": "suite", "value": "BALANCING"}, {"name": "tag", "value": "REGRESSION"}, {"name": "epic", "value": "Packet Broker"}, {"name": "parentSuite", "value": "Packet Broker"}, {"name": "tag", "value": "NEGATIVE_TEST"}, {"name": "severity", "value": "major"}, {"name": "tag", "value": "CREATE_ENTITY"}, {"name": "subSuite", "value": "Validate entity"}, {"name": "tag", "value": "regression"}, {"name": "tag", "value": "balancing"}, {"name": "host", "value": "bic-pdt-153"}, {"name": "thread", "value": "21972-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.balancing.test_balancing"}], "titlePath": ["tests", "balancing", "test_balancing.py", "TestBalancing"]}